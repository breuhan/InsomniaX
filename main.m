//
//  main.m
//  InsomniaX
//
//  Created by Andrew James on 17/01/07.
//  Copyright __MyCompanyName__ 2007. All rights reserved.
//

#import <Cocoa/Cocoa.h>
#import <stdio.h>
#import <sys/param.h>

int main(int argc, char *argv[])
{
	id pool = [NSAutoreleasePool new];
	
	NSString *applicationName = [NSString stringWithFormat: @"Library/Logs/%@.log", [[NSBundle mainBundle] objectForInfoDictionaryKey: @"CFBundleName"]]; 
	NSString *logPath = [NSHomeDirectory() stringByAppendingPathComponent: applicationName];
    freopen([logPath fileSystemRepresentation], "a", stderr);
	
	[pool release];
	
    return NSApplicationMain(argc,  (const char **) argv);
}
